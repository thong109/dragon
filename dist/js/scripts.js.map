{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["'use strict';\r\n\r\n(() => {\r\n  const tabletBreak = 1280;\r\n  const mobileBreak = 768;\r\n  const mobileXSBreak = 375;\r\n\r\n  const detectBrowser = () => {\r\n    const html = document.documentElement;\r\n\r\n    const init = () => {\r\n      const userAgent = navigator.userAgent.toLowerCase();\r\n\r\n      html.classList.toggle(\r\n        'is-browser-chrome',\r\n        userAgent.includes('chrome') && !userAgent.includes('edg/'),\r\n      );\r\n      html.classList.toggle(\r\n        'is-browser-safari',\r\n        userAgent.includes('safari') && !userAgent.includes('chrome'),\r\n      );\r\n      html.classList.toggle(\r\n        'is-browser-firefox',\r\n        userAgent.includes('firefox'),\r\n      );\r\n      html.classList.toggle(\r\n        'is-browser-ie',\r\n        userAgent.includes('msie ') || userAgent.includes('trident/'),\r\n      );\r\n      html.classList.toggle('is-browser-edge', userAgent.includes('edg/'));\r\n    };\r\n\r\n    const viewport = document.querySelector('meta[name=\"viewport\"]');\r\n    viewport?.setAttribute(\r\n      'content',\r\n      'width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0',\r\n    );\r\n\r\n    window.addEventListener('load', init);\r\n    window.addEventListener('resize', init);\r\n    init();\r\n  };\r\n\r\n  const detectDevice = () => {\r\n    const html = document.documentElement;\r\n\r\n    const init = () => {\r\n      const viewport = document.querySelector('meta[name=\"viewport\"]');\r\n      const userAgent = navigator.userAgent.toLowerCase();\r\n      const orientation = window.matchMedia('(orientation: portrait)').matches;\r\n\r\n      html.classList.toggle('is-device-mac', userAgent.includes('mac'));\r\n      html.classList.toggle('is-device-macos', userAgent.includes('mac'));\r\n      html.classList.toggle('is-device-iphone', /iphone/.test(userAgent));\r\n      html.classList.toggle('is-device-ipod', /ipod/.test(userAgent));\r\n      html.classList.toggle('is-device-ipad', /ipad/.test(userAgent));\r\n      html.classList.toggle(\r\n        'is-device-ios',\r\n        /(iphone|ipod|ipad)/.test(userAgent),\r\n      );\r\n      html.classList.toggle('is-device-android', userAgent.includes('android'));\r\n\r\n      // Emulation check\r\n      if (navigator.maxTouchPoints === 1 && !userAgent.includes('mobile')) {\r\n        html.classList.add('is-device-emulation');\r\n      } else {\r\n        html.classList.remove('is-device-emulation');\r\n      }\r\n\r\n      // Touchable check\r\n      if (\r\n        (html.classList.contains('is-device-mac') ||\r\n          html.classList.contains('is-device-ios') ||\r\n          html.classList.contains('is-device-android')) &&\r\n        navigator.maxTouchPoints >= 1\r\n      ) {\r\n        html.classList.add('is-device-touchable');\r\n      } else {\r\n        html.classList.remove('is-device-touchable');\r\n      }\r\n\r\n      // Mobile / Desktop / Tablet checks\r\n      if (window.innerWidth < mobileBreak) {\r\n        if (window.screen.width < mobileXSBreak) {\r\n          viewport?.setAttribute(\r\n            'content',\r\n            `width=${mobileXSBreak}, user-scalable=0`,\r\n          );\r\n        } else {\r\n          viewport?.setAttribute(\r\n            'content',\r\n            'width=device-width, initial-scale=1',\r\n          );\r\n        }\r\n        html.classList.add('is-device-mobile');\r\n        html.classList.remove('is-device-desktop', 'is-device-tablet');\r\n      } else {\r\n        html.classList.add('is-device-desktop');\r\n        html.classList.remove('is-device-mobile');\r\n\r\n        if (\r\n          (window.screen.width >= mobileBreak &&\r\n            window.screen.width <= tabletBreak) ||\r\n          (window.screen.width < mobileBreak &&\r\n            window.screen.height >= mobileBreak &&\r\n            !orientation)\r\n        ) {\r\n          html.classList.add('is-device-tablet');\r\n        } else {\r\n          html.classList.remove('is-device-tablet');\r\n        }\r\n\r\n        viewport?.setAttribute(\r\n          'content',\r\n          'width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0',\r\n        );\r\n      }\r\n    };\r\n\r\n    window.addEventListener('load', init);\r\n    window.addEventListener('resize', init);\r\n    init();\r\n  };\r\n\r\n  const detectState = () => {\r\n    let timerResize;\r\n    const classStateResize = 'is-state-resize';\r\n    const html = document.documentElement;\r\n\r\n    window.addEventListener('resize', () => {\r\n      html.classList.add(classStateResize);\r\n\r\n      clearTimeout(timerResize);\r\n      timerResize = setTimeout(() => {\r\n        html.classList.remove(classStateResize);\r\n      }, 200);\r\n    });\r\n  };\r\n\r\n  const triggerHover = () => {\r\n    const classHoverOver = 'is-hover-over';\r\n    const classHoverOut = 'is-hover-out';\r\n\r\n    document.querySelectorAll('.js-hover').forEach((element) => {\r\n      element.addEventListener('mouseover', () => {\r\n        element.classList.remove(classHoverOut);\r\n        element.classList.add(classHoverOver);\r\n      });\r\n\r\n      element.addEventListener('mouseout', () => {\r\n        element.classList.remove(classHoverOver);\r\n        element.classList.add(classHoverOut);\r\n      });\r\n    });\r\n  };\r\n\r\n  const triggerClick = () => {\r\n    const classClickActive = 'is-click-active';\r\n\r\n    document.querySelectorAll('.js-click').forEach((element) => {\r\n      element.addEventListener('click', () => {\r\n        element.classList.toggle(classClickActive);\r\n      });\r\n    });\r\n  };\r\n\r\n  const buttonTop = () => {\r\n    const buttons = document.querySelectorAll('.js-button-top');\r\n    if (!buttons.length) return;\r\n\r\n    buttons.forEach((button) => {\r\n      const classReady = 'is-ready';\r\n      const classVisible = 'is-visible';\r\n      const classStatic = 'is-static';\r\n      const buttonWrapper = button.querySelector('.button-wrapper');\r\n\r\n      const scrolling = () => {\r\n        const buttonPosition = button.offsetTop;\r\n        const scrollPosition = window.scrollY + window.innerHeight;\r\n        const startPosition = window.innerHeight * 1.5;\r\n\r\n        button.classList.toggle(classVisible, scrollPosition >= startPosition);\r\n        button.classList.toggle(classStatic, scrollPosition > buttonPosition);\r\n        button.classList.add(classReady);\r\n      };\r\n\r\n      buttonWrapper?.addEventListener('click', () => {\r\n        window.scrollTo({\r\n          top: 0,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n\r\n      const safeScroll = () => {\r\n        if (!window.isWindowFrozen) scrolling();\r\n      };\r\n\r\n      window.addEventListener('load', safeScroll);\r\n      window.addEventListener('resize', safeScroll);\r\n      window.addEventListener('scroll', safeScroll);\r\n\r\n      scrolling();\r\n    });\r\n  };\r\n\r\n  const tabsLinking = () => {\r\n    const classActive = 'is-tabs-active';\r\n    const toggles = document.querySelectorAll(\r\n      '.js-tabs-linking[data-tabs-role=\"toggle\"]',\r\n    );\r\n    if (!toggles.length) return;\r\n\r\n    toggles.forEach((tabsToggle) => {\r\n      const tabsToggleIDGroup = tabsToggle.dataset.tabsIdGroup;\r\n      const tabsToggleGroup = document.querySelectorAll(\r\n        `.js-tabs-linking[data-tabs-role=\"toggle\"][data-tabs-id-group=\"${tabsToggleIDGroup}\"]`,\r\n      );\r\n      const tabsToggleIDLocal = tabsToggle.dataset.tabsIdLocal.split(/\\s+/);\r\n      const tabsTargetGroup = document.querySelectorAll(\r\n        `.js-tabs-linking[data-tabs-role=\"target\"][data-tabs-id-group=\"${tabsToggleIDGroup}\"]`,\r\n      );\r\n\r\n      // Filter matching targets\r\n      const tabsToggleBundle = Array.from(tabsToggleGroup).filter((toggle) => {\r\n        const toggleIDs = toggle.dataset.tabsIdLocal.split(/\\s+/);\r\n        return tabsToggleIDLocal.some((toggleID) =>\r\n          toggleIDs.includes(toggleID),\r\n        );\r\n      });\r\n      const tabsTargetBundle = Array.from(tabsTargetGroup).filter((target) => {\r\n        const targetIDs = target.dataset.tabsIdLocal.split(/\\s+/);\r\n        return tabsToggleIDLocal.some((toggleID) =>\r\n          targetIDs.includes(toggleID),\r\n        );\r\n      });\r\n\r\n      tabsToggle.addEventListener('click', () => {\r\n        const isActive = tabsToggle.classList.contains(classActive);\r\n\r\n        if (isActive) {\r\n          tabsToggleGroup.forEach((el) => el.classList.remove(classActive));\r\n          tabsTargetGroup.forEach((el) => el.classList.remove(classActive));\r\n        } else {\r\n          tabsToggleGroup.forEach((el) => el.classList.remove(classActive));\r\n          tabsTargetGroup.forEach((el) => el.classList.remove(classActive));\r\n          tabsToggle.classList.add(classActive);\r\n          tabsToggleBundle.forEach((target) =>\r\n            target.classList.add(classActive),\r\n          );\r\n          tabsTargetBundle.forEach((target) =>\r\n            target.classList.add(classActive),\r\n          );\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  const inputFile = () => {\r\n    const wrappers = document.querySelectorAll('.c-input-file');\r\n    if (!wrappers.length) return;\r\n\r\n    wrappers.forEach((wrapper) => {\r\n      const input = wrapper.querySelector('input[type=\"file\"]');\r\n      const inputExtensions = wrapper.dataset.inputAccept ?\r\n        wrapper.dataset.inputAccept\r\n        .split(',')\r\n        .map((e) => e.trim().toLowerCase())\r\n        .filter(Boolean) // remove empty entries\r\n        :\r\n        [];\r\n      const label = wrapper.querySelector('[data-input-role=\"label\"]');\r\n      const buttonDelete = wrapper.querySelector(\r\n        '[data-input-role=\"button-delete\"]',\r\n      );\r\n      const labelPlaceholder = label.dataset.inputPlaceholder || 'Choose file';\r\n      label.textContent = labelPlaceholder;\r\n      buttonDelete.style.display = 'none';\r\n      input.addEventListener('change', () => {\r\n        const file = input.files[0];\r\n        if (!file) return;\r\n        const ext = file.name.split('.').pop().toLowerCase();\r\n        if (inputExtensions.length && !inputExtensions.includes(ext)) {\r\n          alert(`Chỉ chấp nhận file dạng: ${inputExtensions.join(', ')}`);\r\n          input.value = '';\r\n          label.textContent = labelPlaceholder;\r\n          buttonDelete.style.display = 'none';\r\n          return;\r\n        }\r\n        label.textContent = file.name;\r\n        buttonDelete.style.display = '';\r\n      });\r\n      buttonDelete.addEventListener('click', () => {\r\n        input.value = '';\r\n        label.textContent = labelPlaceholder;\r\n        buttonDelete.style.display = 'none';\r\n      });\r\n    });\r\n  };\r\n\r\n  const sliderServices = () => {\r\n    const sliders = document.querySelectorAll('.js-slider-services');\r\n    if (!sliders.length) return;\r\n\r\n    sliders.forEach((element) => {\r\n      new Swiper(element, {\r\n        loop: false,\r\n        speed: 1500,\r\n        slidesPerView: 1,\r\n        slidesPerGroup: 1,\r\n        spaceBetween: 30,\r\n        pagination: {\r\n          el: element.querySelector('.swiper-pagination'),\r\n          clickable: true,\r\n        },\r\n        breakpoints: {\r\n          1920: {\r\n            slidesPerView: 'auto',\r\n            slidesPerGroup: 4,\r\n          },\r\n          1400: {\r\n            slidesPerView: 3,\r\n            slidesPerGroup: 3,\r\n          },\r\n          768: {\r\n            slidesPerView: 2,\r\n            slidesPerGroup: 2,\r\n          },\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  const sliderKeyvisual = () => {\r\n    const sliders = document.querySelectorAll('.js-slider-keyvisual');\r\n    if (!sliders.length) return;\r\n\r\n    sliders.forEach((element) => {\r\n      new Swiper(element, {\r\n        loop: true,\r\n        speed: 1500,\r\n        slidesPerView: 1,\r\n        autoplay: {\r\n          delay: 5000,\r\n          pauseOnMouseEnter: false\r\n        },\r\n        pagination: {\r\n          el: element.querySelector('.swiper-pagination'),\r\n          clickable: true,\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  const sliderProjects = () => {\r\n    const sliders = document.querySelectorAll('.js-slider-projects');\r\n    if (!sliders.length) return;\r\n\r\n    sliders.forEach((slider) => {\r\n      const sliderThumbnailsDOM = slider.querySelector(\r\n        '.swiper[data-slider-role=\"slider-thumbnails\"]',\r\n      );\r\n      const sliderMainDOM = slider.querySelector(\r\n        '.swiper[data-slider-role=\"slider-main\"]',\r\n      );\r\n\r\n      if (!sliderThumbnailsDOM || !sliderMainDOM) return;\r\n\r\n      const sliderThumbnailsWrapper =\r\n        sliderThumbnailsDOM.querySelector('.swiper-wrapper');\r\n      sliderThumbnailsWrapper.innerHTML = '';\r\n      const slideMainSlides = sliderMainDOM.querySelectorAll('.swiper-slide');\r\n      slideMainSlides.forEach((slide) => {\r\n        const thumbnail = slide.querySelector('.p-thumbnail-projects img');\r\n        if (thumbnail) {\r\n          const thumbnailItem = document.createElement('div');\r\n          thumbnailItem.className = 'swiper-slide';\r\n          thumbnailItem.innerHTML = `<figure><img class=\"u-object\" src=\"${thumbnail.src}\" alt=\"${thumbnail.alt || ''}\" /></figure>`;\r\n          sliderThumbnailsWrapper.appendChild(thumbnailItem);\r\n        }\r\n      });\r\n\r\n      const sliderThumbnails = new Swiper(sliderThumbnailsDOM, {\r\n        loop: true,\r\n        speed: 500,\r\n        direction: \"vertical\",\r\n        slidesPerView: 1,\r\n        spaceBetween: 0,\r\n        allowTouchMove: false,\r\n        slideToClickedSlide: false,\r\n        simulateTouch: false,\r\n        keyboard: false,\r\n        mousewheel: false,\r\n      });\r\n\r\n      const sliderMain = new Swiper(sliderMainDOM, {\r\n        loop: true,\r\n        speed: 1500,\r\n        slidesPerView: 1,\r\n        spaceBetween: 0,\r\n        effect: \"fade\",\r\n        fadeEffect: {\r\n          crossFade: true,\r\n        },\r\n        pagination: {\r\n          el: slider.querySelector('[data-slider-role=\"pagination\"]'),\r\n          clickable: true,\r\n          type: 'fraction',\r\n          renderFraction: function (currentClass, totalClass) {\r\n            return `<span class=\"${currentClass}\" data-slider-role=\"pagination-current\"></span>\r\n                  <span class=\"${totalClass}\" data-slider-role=\"pagination-total\"></span>`;\r\n          },\r\n        },\r\n        navigation: {\r\n          nextEl: slider.querySelector('[data-slider-role=\"arrow-next\"]'),\r\n          prevEl: slider.querySelector('[data-slider-role=\"arrow-previous\"]'),\r\n        },\r\n      });\r\n\r\n      sliderMain.on('slideChange', () => {\r\n        const total = sliderMain.slides.length - sliderMain.loopedSlides * 2;\r\n        const indexNext = (sliderMain.realIndex + 1) % total;\r\n        sliderThumbnails.slideToLoop(indexNext);\r\n      });\r\n    });\r\n  };\r\n\r\n  const sliderShowcase = () => {\r\n    const sliders = document.querySelectorAll(\".js-slider-showcase\");\r\n    if (!sliders.length) return;\r\n\r\n    sliders.forEach((slider) => {\r\n      new Swiper(slider.querySelector(\".swiper\"), {\r\n        loop: false,\r\n        speed: 500,\r\n        slidesPerView: 1,\r\n        spaceBetween: 0,\r\n        pagination: {\r\n          el: slider.querySelector(\".swiper-pagination\"),\r\n          clickable: true,\r\n          renderBullet: function (index, className) {\r\n            return `<span class=\"${className} u-trans\"></span>`;\r\n          },\r\n        },\r\n      });\r\n    });\r\n  };\r\n\r\n  const goTop = () => {\r\n    if ($('.js-go-top').length) {\r\n      const btnTop = $('.js-go-top');\r\n\r\n      btnTop.click(() => {\r\n        $('html, body').animate({\r\n            scrollTop: 0\r\n          },\r\n          500\r\n        );\r\n      });\r\n\r\n      const btnTopFade = () => {\r\n        if ($(window).scrollTop() > $(window).height() * 0.2) {\r\n          btnTop.addClass('is-active');\r\n        } else {\r\n          btnTop.removeClass('is-active');\r\n        }\r\n      };\r\n\r\n      const btnTopFixed = () => {\r\n        const footer = $('footer').offset().top;\r\n        const footerOffset = btnTop.outerHeight() + btnTop.outerHeight() * 1.3;\r\n\r\n        const scrollTop = $(window).scrollTop();\r\n        const windowHeight = $(window).innerHeight();\r\n\r\n        if (scrollTop + windowHeight > footer + footerOffset) {\r\n          btnTop.addClass('is-stuck');\r\n        } else {\r\n          btnTop.removeClass('is-stuck');\r\n        }\r\n      };\r\n\r\n      btnTopFade();\r\n      btnTopFixed();\r\n\r\n      $(window).on('scroll resize', () => {\r\n        btnTopFade();\r\n        btnTopFixed();\r\n      });\r\n    }\r\n  };\r\n\r\n  detectBrowser();\r\n  detectDevice();\r\n  detectState();\r\n  triggerHover();\r\n  triggerClick();\r\n  buttonTop();\r\n  tabsLinking();\r\n  inputFile();\r\n  sliderServices();\r\n  sliderProjects();\r\n  sliderKeyvisual();\r\n  sliderShowcase();\r\n  goTop();\r\n})();\r\n\r\n//# sourceMappingURL=scripts.js.map\r\n"],"file":"scripts.js"}