{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["'use strict';\n\n(() => {\n  const tabletBreak = 1280;\n  const mobileBreak = 768;\n  const mobileXSBreak = 375;\n\n  const detectBrowser = () => {\n    const html = document.documentElement;\n\n    const init = () => {\n      const userAgent = navigator.userAgent.toLowerCase();\n\n      html.classList.toggle(\n        'is-browser-chrome',\n        userAgent.includes('chrome') && !userAgent.includes('edg/'),\n      );\n      html.classList.toggle(\n        'is-browser-safari',\n        userAgent.includes('safari') && !userAgent.includes('chrome'),\n      );\n      html.classList.toggle(\n        'is-browser-firefox',\n        userAgent.includes('firefox'),\n      );\n      html.classList.toggle(\n        'is-browser-ie',\n        userAgent.includes('msie ') || userAgent.includes('trident/'),\n      );\n      html.classList.toggle('is-browser-edge', userAgent.includes('edg/'));\n    };\n\n    const viewport = document.querySelector('meta[name=\"viewport\"]');\n    viewport?.setAttribute(\n      'content',\n      'width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0',\n    );\n\n    window.addEventListener('load', init);\n    window.addEventListener('resize', init);\n    init();\n  };\n\n  const detectDevice = () => {\n    const html = document.documentElement;\n\n    const init = () => {\n      const viewport = document.querySelector('meta[name=\"viewport\"]');\n      const userAgent = navigator.userAgent.toLowerCase();\n      const orientation = window.matchMedia('(orientation: portrait)').matches;\n\n      html.classList.toggle('is-device-mac', userAgent.includes('mac'));\n      html.classList.toggle('is-device-macos', userAgent.includes('mac'));\n      html.classList.toggle('is-device-iphone', /iphone/.test(userAgent));\n      html.classList.toggle('is-device-ipod', /ipod/.test(userAgent));\n      html.classList.toggle('is-device-ipad', /ipad/.test(userAgent));\n      html.classList.toggle(\n        'is-device-ios',\n        /(iphone|ipod|ipad)/.test(userAgent),\n      );\n      html.classList.toggle('is-device-android', userAgent.includes('android'));\n\n      // Emulation check\n      if (navigator.maxTouchPoints === 1 && !userAgent.includes('mobile')) {\n        html.classList.add('is-device-emulation');\n      } else {\n        html.classList.remove('is-device-emulation');\n      }\n\n      // Touchable check\n      if (\n        (html.classList.contains('is-device-mac') ||\n          html.classList.contains('is-device-ios') ||\n          html.classList.contains('is-device-android')) &&\n        navigator.maxTouchPoints >= 1\n      ) {\n        html.classList.add('is-device-touchable');\n      } else {\n        html.classList.remove('is-device-touchable');\n      }\n\n      // Mobile / Desktop / Tablet checks\n      if (window.innerWidth < mobileBreak) {\n        if (window.screen.width < mobileXSBreak) {\n          viewport?.setAttribute(\n            'content',\n            `width=${mobileXSBreak}, user-scalable=0`,\n          );\n        } else {\n          viewport?.setAttribute(\n            'content',\n            'width=device-width, initial-scale=1',\n          );\n        }\n        html.classList.add('is-device-mobile');\n        html.classList.remove('is-device-desktop', 'is-device-tablet');\n      } else {\n        html.classList.add('is-device-desktop');\n        html.classList.remove('is-device-mobile');\n\n        if (\n          (window.screen.width >= mobileBreak &&\n            window.screen.width <= tabletBreak) ||\n          (window.screen.width < mobileBreak &&\n            window.screen.height >= mobileBreak &&\n            !orientation)\n        ) {\n          html.classList.add('is-device-tablet');\n        } else {\n          html.classList.remove('is-device-tablet');\n        }\n\n        viewport?.setAttribute(\n          'content',\n          'width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=0',\n        );\n      }\n    };\n\n    window.addEventListener('load', init);\n    window.addEventListener('resize', init);\n    init();\n  };\n\n  const detectState = () => {\n    let timerResize;\n    const classStateResize = 'is-state-resize';\n    const html = document.documentElement;\n\n    window.addEventListener('resize', () => {\n      html.classList.add(classStateResize);\n\n      clearTimeout(timerResize);\n      timerResize = setTimeout(() => {\n        html.classList.remove(classStateResize);\n      }, 200);\n    });\n  };\n\n  const triggerHover = () => {\n    const classHoverOver = 'is-hover-over';\n    const classHoverOut = 'is-hover-out';\n\n    document.querySelectorAll('.js-hover').forEach((element) => {\n      element.addEventListener('mouseover', () => {\n        element.classList.remove(classHoverOut);\n        element.classList.add(classHoverOver);\n      });\n\n      element.addEventListener('mouseout', () => {\n        element.classList.remove(classHoverOver);\n        element.classList.add(classHoverOut);\n      });\n    });\n  };\n\n  const triggerClick = () => {\n    const classClickActive = 'is-click-active';\n\n    document.querySelectorAll('.js-click').forEach((element) => {\n      element.addEventListener('click', () => {\n        element.classList.toggle(classClickActive);\n      });\n    });\n  };\n\n  const buttonTop = () => {\n    const buttons = document.querySelectorAll('.js-button-top');\n    if (!buttons.length) return;\n\n    buttons.forEach((button) => {\n      const classReady = 'is-ready';\n      const classVisible = 'is-visible';\n      const classStatic = 'is-static';\n      const buttonWrapper = button.querySelector('.button-wrapper');\n\n      const scrolling = () => {\n        const buttonPosition = button.offsetTop;\n        const scrollPosition = window.scrollY + window.innerHeight;\n        const startPosition = window.innerHeight * 1.5;\n\n        button.classList.toggle(classVisible, scrollPosition >= startPosition);\n        button.classList.toggle(classStatic, scrollPosition > buttonPosition);\n        button.classList.add(classReady);\n      };\n\n      buttonWrapper?.addEventListener('click', () => {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n      });\n\n      const safeScroll = () => {\n        if (!window.isWindowFrozen) scrolling();\n      };\n\n      window.addEventListener('load', safeScroll);\n      window.addEventListener('resize', safeScroll);\n      window.addEventListener('scroll', safeScroll);\n\n      scrolling();\n    });\n  };\n\n  const tabsLinking = () => {\n    const classActive = 'is-tabs-active';\n    const toggles = document.querySelectorAll(\n      '.js-tabs-linking[data-tabs-role=\"toggle\"]',\n    );\n    if (!toggles.length) return;\n\n    toggles.forEach((tabsToggle) => {\n      const tabsToggleIDGroup = tabsToggle.dataset.tabsIdGroup;\n      const tabsToggleGroup = document.querySelectorAll(\n        `.js-tabs-linking[data-tabs-role=\"toggle\"][data-tabs-id-group=\"${tabsToggleIDGroup}\"]`,\n      );\n      const tabsToggleIDLocal = tabsToggle.dataset.tabsIdLocal.split(/\\s+/);\n      const tabsTargetGroup = document.querySelectorAll(\n        `.js-tabs-linking[data-tabs-role=\"target\"][data-tabs-id-group=\"${tabsToggleIDGroup}\"]`,\n      );\n\n      // Filter matching targets\n      const tabsToggleBundle = Array.from(tabsToggleGroup).filter((toggle) => {\n        const toggleIDs = toggle.dataset.tabsIdLocal.split(/\\s+/);\n        return tabsToggleIDLocal.some((toggleID) =>\n          toggleIDs.includes(toggleID),\n        );\n      });\n      const tabsTargetBundle = Array.from(tabsTargetGroup).filter((target) => {\n        const targetIDs = target.dataset.tabsIdLocal.split(/\\s+/);\n        return tabsToggleIDLocal.some((toggleID) =>\n          targetIDs.includes(toggleID),\n        );\n      });\n\n      tabsToggle.addEventListener('click', () => {\n        const isActive = tabsToggle.classList.contains(classActive);\n\n        if (isActive) {\n          tabsToggleGroup.forEach((el) => el.classList.remove(classActive));\n          tabsTargetGroup.forEach((el) => el.classList.remove(classActive));\n        } else {\n          tabsToggleGroup.forEach((el) => el.classList.remove(classActive));\n          tabsTargetGroup.forEach((el) => el.classList.remove(classActive));\n          tabsToggle.classList.add(classActive);\n          tabsToggleBundle.forEach((target) =>\n            target.classList.add(classActive),\n          );\n          tabsTargetBundle.forEach((target) =>\n            target.classList.add(classActive),\n          );\n        }\n      });\n    });\n  };\n\n  const inputFile = () => {\n    const wrappers = document.querySelectorAll('.c-input-file');\n    if (!wrappers.length) return;\n\n    wrappers.forEach((wrapper) => {\n      const input = wrapper.querySelector('input[type=\"file\"]');\n      const inputExtensions = wrapper.dataset.inputAccept ?\n        wrapper.dataset.inputAccept\n          .split(',')\n          .map((e) => e.trim().toLowerCase())\n          .filter(Boolean) // remove empty entries\n        :\n        [];\n      const label = wrapper.querySelector('[data-input-role=\"label\"]');\n      const buttonDelete = wrapper.querySelector(\n        '[data-input-role=\"button-delete\"]',\n      );\n      const labelPlaceholder = label.dataset.inputPlaceholder || 'Choose file';\n      label.textContent = labelPlaceholder;\n      buttonDelete.style.display = 'none';\n      input.addEventListener('change', () => {\n        const file = input.files[0];\n        if (!file) return;\n        const ext = file.name.split('.').pop().toLowerCase();\n        if (inputExtensions.length && !inputExtensions.includes(ext)) {\n          alert(`Chỉ chấp nhận file dạng: ${inputExtensions.join(', ')}`);\n          input.value = '';\n          label.textContent = labelPlaceholder;\n          buttonDelete.style.display = 'none';\n          return;\n        }\n        label.textContent = file.name;\n        buttonDelete.style.display = '';\n      });\n      buttonDelete.addEventListener('click', () => {\n        input.value = '';\n        label.textContent = labelPlaceholder;\n        buttonDelete.style.display = 'none';\n      });\n    });\n  };\n\n  const sliderServices = () => {\n    const sliders = document.querySelectorAll('.js-slider-services');\n    if (!sliders.length) return;\n\n    sliders.forEach((element) => {\n      new Swiper(element, {\n        loop: false,\n        speed: 1500,\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        spaceBetween: 30,\n        pagination: {\n          el: element.querySelector('.swiper-pagination'),\n          clickable: true,\n        },\n        breakpoints: {\n          1920: {\n            slidesPerView: 'auto',\n            slidesPerGroup: 4,\n          },\n          1400: {\n            slidesPerView: 3,\n            slidesPerGroup: 3,\n          },\n          768: {\n            slidesPerView: 2,\n            slidesPerGroup: 2,\n          },\n        },\n      });\n    });\n  };\n\n  const sliderKeyvisual = () => {\n    const sliders = document.querySelectorAll('.js-slider-keyvisual');\n    if (!sliders.length) return;\n\n    sliders.forEach((slider) => {\n      new Swiper(slider, {\n        loop: true,\n        speed: 1500,\n        parallax: true,\n        centeredSlide: true,\n        autoplay: {\n          delay: 5000,\n          pauseOnMouseEnter: false\n        },\n        pagination: {\n          el: slider.querySelector('.swiper-pagination'),\n          clickable: true,\n        },\n      });\n    });\n  };\n\n  const sliderLibrary = () => {\n    const sliders = document.querySelectorAll('.js-slider-library .swiper');\n    if (!sliders.length) return;\n\n    sliders.forEach((slider) => {\n      const wrapper = slider.querySelector('.swiper-wrapper');\n      const slides = wrapper ? wrapper.children : [];\n\n      if (slides.length > 0 && slides.length <= 3) {\n        const cloneCount = slides.length;\n        for (let i = 0; i < cloneCount; i++) {\n          wrapper.appendChild(slides[i].cloneNode(true));\n        }\n      }\n\n      const swiper = new Swiper(slider, {\n        loop: true,\n        speed: 1500,\n        slidesPerView: 3,\n        centeredSlides: true,\n        breakpoints: {\n          0: { slidesPerView: 1, centeredSlides: true },\n          768: { slidesPerView: 3, centeredSlides: true },\n        },\n\n        on: {\n          init() {\n            updateCurrentSlide(this);\n          },\n          slideChangeTransitionStart() {\n            updateCurrentSlide(this);\n          },\n        },\n      });\n\n      slider.querySelectorAll('[data-slider-role=\"arrow-next\"]').forEach((btn) => {\n        btn.addEventListener('click', () => swiper.slideNext());\n      });\n      slider.querySelectorAll('[data-slider-role=\"arrow-previous\"]').forEach((btn) => {\n        btn.addEventListener('click', () => swiper.slidePrev());\n      });\n    });\n\n    function updateCurrentSlide(swiper) {\n      swiper.slides.forEach((slide) => slide.classList.remove('is-current'));\n      const current = swiper.slides[swiper.activeIndex];\n      if (current) current.classList.add('is-current');\n    }\n  };\n\n  const sliderProjects = () => {\n    const sliders = document.querySelectorAll('.js-slider-projects');\n    if (!sliders.length) return;\n\n    sliders.forEach((slider) => {\n      const sliderThumbnailsDOM = slider.querySelector(\n        '.swiper[data-slider-role=\"slider-thumbnails\"]',\n      );\n      const sliderMainDOM = slider.querySelector(\n        '.swiper[data-slider-role=\"slider-main\"]',\n      );\n\n      if (!sliderThumbnailsDOM || !sliderMainDOM) return;\n\n      const sliderThumbnailsWrapper =\n        sliderThumbnailsDOM.querySelector('.swiper-wrapper');\n      sliderThumbnailsWrapper.innerHTML = '';\n      const slideMainSlides = sliderMainDOM.querySelectorAll('.swiper-slide');\n      slideMainSlides.forEach((slide) => {\n        const thumbnail = slide.querySelector('.p-thumbnail-projects img');\n        if (thumbnail) {\n          const thumbnailItem = document.createElement('div');\n          thumbnailItem.className = 'swiper-slide';\n          thumbnailItem.innerHTML = `<figure><img class=\"u-object\" src=\"${thumbnail.src}\" alt=\"${thumbnail.alt || ''}\" /></figure>`;\n          sliderThumbnailsWrapper.appendChild(thumbnailItem);\n        }\n      });\n\n      const sliderThumbnails = new Swiper(sliderThumbnailsDOM, {\n        loop: true,\n        speed: 500,\n        direction: \"vertical\",\n        slidesPerView: 1,\n        spaceBetween: 0,\n        allowTouchMove: false,\n        slideToClickedSlide: false,\n        simulateTouch: false,\n        keyboard: false,\n        mousewheel: false,\n      });\n\n      const sliderMain = new Swiper(sliderMainDOM, {\n        loop: true,\n        speed: 1500,\n        slidesPerView: 1,\n        spaceBetween: 0,\n        effect: \"fade\",\n        fadeEffect: {\n          crossFade: true,\n        },\n        pagination: {\n          el: slider.querySelector('[data-slider-role=\"pagination\"]'),\n          clickable: true,\n          type: 'fraction',\n          renderFraction: function (currentClass, totalClass) {\n            return `<span class=\"${currentClass}\" data-slider-role=\"pagination-current\"></span>\n                  <span class=\"${totalClass}\" data-slider-role=\"pagination-total\"></span>`;\n          },\n        },\n        navigation: {\n          nextEl: slider.querySelector('[data-slider-role=\"arrow-next\"]'),\n          prevEl: slider.querySelector('[data-slider-role=\"arrow-previous\"]'),\n        },\n      });\n\n      sliderMain.on('slideChange', () => {\n        const total = sliderMain.slides.length - sliderMain.loopedSlides * 2;\n        const indexNext = (sliderMain.realIndex + 1) % total;\n        sliderThumbnails.slideToLoop(indexNext);\n      });\n    });\n  };\n\n  const sliderShowcase = () => {\n    const sliders = document.querySelectorAll(\".js-slider-showcase\");\n    if (!sliders.length) return;\n\n    sliders.forEach((slider) => {\n      new Swiper(slider.querySelector(\".swiper\"), {\n        loop: false,\n        speed: 500,\n        slidesPerView: 1,\n        spaceBetween: 0,\n        pagination: {\n          el: slider.querySelector(\".swiper-pagination\"),\n          clickable: true,\n          renderBullet: function (index, className) {\n            return `<span class=\"${className} u-trans\"></span>`;\n          },\n        },\n      });\n    });\n  };\n\nconst sliderCompany = () => {\n  const sliders = document.querySelectorAll('.js-slider-company [data-slider-role=\"viewport\"]');\n  if (!sliders.length) return;\n\n  sliders.forEach((slider) => {\n    const wrapper = slider.querySelector('.swiper-wrapper');\n    if (!wrapper) return;\n\n    const originalSlides = Array.from(wrapper.children);\n    const isOpposite = slider.getAttribute('data-slider-direction') === 'opposite';\n    const directionSetting = isOpposite ? 'rtl' : 'ltr';\n\n    const getTotalWidth = () => {\n      return Array.from(wrapper.children).reduce((sum, slide) => {\n        return sum + slide.offsetWidth;\n      }, 0);\n    };\n\n    const viewportWidth = slider.offsetWidth;\n    let totalWidth = getTotalWidth();\n\n    while (totalWidth < viewportWidth * 2) {\n      originalSlides.forEach((slide) => {\n        const clone = slide.cloneNode(true);\n        wrapper.appendChild(clone);\n      });\n      totalWidth = getTotalWidth();\n    }\n\n    new Swiper(slider, {\n      loop: true,\n      slidesPerView: 'auto',\n      speed: 5000,\n      autoplay: {\n        delay: 0,\n        disableOnInteraction: false,\n        reverseDirection: isOpposite,\n        pauseOnMouseEnter: true\n      },\n      allowTouchMove: false,\n      freeMode: false,\n      freeModeMomentum: false,\n    });\n  });\n};\n\n  const goTop = () => {\n    if ($('.js-go-top').length) {\n      const btnTop = $('.js-go-top');\n\n      btnTop.click(() => {\n        $('html, body').animate({\n          scrollTop: 0\n        },\n          500\n        );\n      });\n\n      const btnTopFade = () => {\n        if ($(window).scrollTop() > $(window).height() * 0.2) {\n          btnTop.addClass('is-active');\n        } else {\n          btnTop.removeClass('is-active');\n        }\n      };\n\n      const btnTopFixed = () => {\n        const footer = $('footer').offset().top;\n        const footerOffset = btnTop.outerHeight() + btnTop.outerHeight() * 1.3;\n\n        const scrollTop = $(window).scrollTop();\n        const windowHeight = $(window).innerHeight();\n\n        if (scrollTop + windowHeight > footer + footerOffset) {\n          btnTop.addClass('is-stuck');\n        } else {\n          btnTop.removeClass('is-stuck');\n        }\n      };\n\n      btnTopFade();\n      btnTopFixed();\n\n      $(window).on('scroll resize', () => {\n        btnTopFade();\n        btnTopFixed();\n      });\n    }\n  };\n\n  detectBrowser();\n  detectDevice();\n  detectState();\n  triggerHover();\n  triggerClick();\n  buttonTop();\n  tabsLinking();\n  inputFile();\n  sliderServices();\n  sliderProjects();\n  sliderKeyvisual();\n  sliderLibrary();\n  sliderShowcase();\n  sliderCompany();\n  goTop();\n})();\n\n//# sourceMappingURL=scripts.js.map\n"],"file":"scripts.js"}